<script id="favicon-icon-setter">
    // Find existing favicon and icons
    const existingFavicon = document.querySelector('link[rel="icon"]');
    const existingSvgIcon = document.querySelector('link[rel="icon"][type="image/svg+xml"]');
    const existingAppleTouchIcon = document.querySelector('link[rel="apple-touch-icon"]');
    const existingManifest = document.querySelector('link[rel="manifest"]');

    // Create new link elements
    const newFaviconLink = existingFavicon || document.createElement('link');
    newFaviconLink.rel = 'icon';
    newFaviconLink.href = 'https://amp-ignite.ai/static/img/favicon/favicon.ico';
    newFaviconLink.sizes = 'any';

    const newSvgIconLink = existingSvgIcon || document.createElement('link');
    newSvgIconLink.rel = 'icon';
    newSvgIconLink.href = 'https://amp-ignite.ai/static/img/favicon/icon.svg';
    newSvgIconLink.type = 'image/svg+xml';

    const newAppleTouchIconLink = existingAppleTouchIcon || document.createElement('link');
    newAppleTouchIconLink.rel = 'apple-touch-icon';
    newAppleTouchIconLink.href = 'https://amp-ignite.ai/static/img/favicon/apple-touch-icon.png';

    const newManifestLink = existingManifest || document.createElement('link');
    newManifestLink.rel = 'manifest';
    newManifestLink.href = 'https://amp-ignite.ai/static/img/favicon/manifest.webmanifest';

    // Append new links to the document head
    document.getElementsByTagName('head')[0].appendChild(newFaviconLink);
    document.getElementsByTagName('head')[0].appendChild(newSvgIconLink);
    document.getElementsByTagName('head')[0].appendChild(newAppleTouchIconLink);
    document.getElementsByTagName('head')[0].appendChild(newManifestLink);
</script>

<!-- SVG Icon Color -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/svg-injector/1.1.3/svg-injector.min.js"
    integrity="sha512-LpKoEmPyokcDYSjRJ/7WgybgdAYFsKtCrGC9m+VBwcefe1vHXyUnD9fTQb3nXVJda6ny1J84UR+iBtEYm3OQmQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script id="set-svg-icon-color">
    window.addEventListener("routeChangeEvent", function (e) {
        console.log(e.detail.to.name);
        if (e.detail.to.name === "company-settings-v2") return;

        let navInconInterval = setInterval(() => {
            const navSVG = document.querySelectorAll("#sidebar-v2 nav svg");

            if (navSVG === true) return;

            const nav = document.querySelectorAll("nav")[0];
            const navIcons = nav.querySelectorAll("nav img");

            const iconsArray = Array.from(navIcons);

            if (iconsArray.length !== 0 && navIcons) {
                clearInterval(navInconInterval);
                for (let icon of iconsArray) {
                    SVGInjector(icon);
                }
            }
        });
    });
</script>

<!-- Inject Loader Logo -->
<script id="inject-loader-image">
    // let appLoaderElement = document.querySelector("#app + .app-loader");
    // let highlevelLoaderContainer = appLoaderElement ?
    //     appLoaderElement.querySelector(".hl-loader-container") : null;
    let highlevelLoaderContainer = document.querySelector("#app .hl-loader-container");
    console.log("highlevelLoaderContainer:", highlevelLoaderContainer);

    if (highlevelLoaderContainer) {
        const loaderElementHTML = `
            <style id="loading-screen">
                /* Loading Screen */
                .app-loader {
                    background-color: #090516;
                }

                #app .hl-loader-container {
                    background-color: #090516;
                }

                #app .loader__logo img {
                    width: 100%;
                    display: block;
                    height: auto;
                }
            </style>
            <div class="loader__logo">
                <img src="https://amp-ignite.ai/static/img/loader.svg" alt="Amplify-Ignite | Igniting Your Digital Presence">
            </div>
        `;

        const parser = new DOMParser();
        const htmlDoc = parser.parseFromString(loaderElementHTML, 'text/html');
        
        document.head.append(...htmlDoc.head.children);
        highlevelLoaderContainer.prepend(...htmlDoc.body.children);
        console.log("highlevelLoaderContainer:", highlevelLoaderContainer);
    }
</script>